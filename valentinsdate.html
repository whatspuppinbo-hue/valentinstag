<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentinsdate?</title>

  <style>
    :root{
      --shadow: 0 14px 40px rgba(0,0,0,.35);
      --btn-shadow: 0 10px 22px rgba(0,0,0,.35);
      --radius: 22px;
      --btn-radius: 18px;
    }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding: 24px;
      background: radial-gradient(circle at 50% 35%, #3a0b14, #12060a 65%, #070306);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    .frame{
      width:min(900px, 96vw);
      text-align:center;
    }

    /* ===== Titel ===== */
    .title-wrap{
      display:grid;
      gap: 10px;
      margin-bottom: 16px;
      justify-items:center;
    }
    .title{
      margin:0;
      font-weight: 900;
      line-height: 1.05;
      font-size: clamp(26px, 4.2vw, 52px);

      background: linear-gradient(90deg, #ffffff 0%, #ffd1e6 35%, #ff4f9a 70%, #ffffff 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;

      text-shadow:
        0 2px 10px rgba(255, 90, 150, .25),
        0 0 24px rgba(255, 70, 150, .18);

      animation: floaty 2.4s ease-in-out infinite;
      position: relative;
    }
    .title::after{
      content:"";
      position:absolute;
      inset:-10px -18px;
      background: linear-gradient(115deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,.22) 45%,
        rgba(255,255,255,0) 60%);
      transform: translateX(-140%) skewX(-12deg);
      filter: blur(1px);
      opacity: .9;
      animation: shine 3.2s ease-in-out infinite;
      pointer-events:none;
    }
    .subtitle{
      margin:0;
      font-size: 14px;
      color: rgba(255,255,255,.72);
      letter-spacing: .2px;
    }
    @keyframes floaty{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
    @keyframes shine{
      0%{transform:translateX(-140%) skewX(-12deg)}
      55%,100%{transform:translateX(140%) skewX(-12deg)}
    }

    /* ===== Card + Bild ===== */
    .card{
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: var(--shadow);
      background: rgba(255,255,255,0.04);
      backdrop-filter: blur(6px);
    }
    .card img{
      display:block;
      width:100%;
      height:auto;
      user-select:none;
      -webkit-user-drag:none;
    }

    /* ===== Buttons ===== */
    .bar{
      display:flex;
      gap: 14px;
      justify-content:center;
      align-items:center;
      padding: 16px;
      background: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.35));
    }
    .btn{
      border:0;
      border-radius: var(--btn-radius);
      padding: 14px 54px;
      font-weight: 900;
      font-size: clamp(18px, 2.2vw, 28px);
      letter-spacing: .4px;
      color: white;
      cursor: pointer;
      box-shadow: var(--btn-shadow);
      outline: none;
      transition: transform .18s ease, filter .18s ease;
      will-change: transform, filter;
      animation: pulse 1.6s ease-in-out infinite;
    }
    .btn.left{  background: linear-gradient(180deg, #ff3b3b, #b50000); animation-delay: 0s; }
    .btn.right{ background: linear-gradient(180deg, #ff6fb2, #c6005c); animation-delay: .25s; }

    .btn:hover{
      transform: scale(1.06);
      filter: drop-shadow(0 0 14px rgba(255, 90, 150, .55));
    }
    .btn:focus-visible{
      box-shadow: var(--btn-shadow), 0 0 0 4px rgba(255,255,255,.35);
    }
    .btn.pop{ animation: pop .22s ease-out 1, wiggle .45s ease-in-out 1; }

    @keyframes pulse{ 0%,100%{transform:scale(1)} 50%{transform:scale(1.03)} }
    @keyframes pop{ 0%{transform:scale(1)} 60%{transform:scale(1.12)} 100%{transform:scale(1.04)} }
    @keyframes wiggle{ 0%{rotate:0deg} 25%{rotate:-2deg} 50%{rotate:2deg} 75%{rotate:-1deg} 100%{rotate:0deg} }

    .hint{
      margin-top: 12px;
      color: rgba(255,255,255,.75);
      font-size: 14px;
      min-height: 20px;
    }

    /* ===== versteckter Date-Input ===== */
    #datePicker{
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: none;
      width: 90%;
      max-width: 360px;
      padding: 20px;
      font-size: 18px;
      cursor: pointer;
      border: 3px solid rgba(255, 100, 150, 0.9);
      border-radius: var(--radius);
      background: rgba(20, 10, 15, 0.95);
      color: white;
      box-shadow: 0 0 40px rgba(255, 100, 150, 0.6), 0 0 80px rgba(255, 70, 150, 0.3);
      z-index: 1000;
    }
    #datePicker::-webkit-calendar-picker-indicator {
      cursor: pointer;
      filter: invert(1) brightness(1.3);
      width: 28px;
      height: 28px;
    }

    @media (max-width: 520px){
      .btn{ padding: 12px 34px; }
      .bar{ padding: 14px; gap: 10px; }
      .title::after{ inset:-8px -10px; }
    }
  </style>
</head>

<body>
  <div class="frame">
    <div class="title-wrap">
      <h1 class="title">Willst du mein Valentinsdate sein?</h1>
      <p class="subtitle">Such dir ein Datum aus ‚ù§Ô∏è</p>
    </div>

    <div class="card">
      <img src="valentin.jpg" alt="Valentinsbild" />
      <div class="bar">
        <button class="btn left"  id="yes1" type="button">Ja</button>
        <button class="btn right" id="yes2" type="button">Ja</button>
      </div>
    </div>

    <div class="hint" id="hint">Klick auf ‚ÄûJa", dann w√§hlst du ein Datum.</div>

    <!-- echter Kalender / Date-Picker -->
    <input id="datePicker" type="date" />
  </div>

  <script>
    const hint = document.getElementById("hint");
    const datePicker = document.getElementById("datePicker");

    // optional: min auf heute setzen
    const today = new Date();
    const yyyy = String(today.getFullYear());
    const mm = String(today.getMonth() + 1).padStart(2, "0");
    const dd = String(today.getDate()).padStart(2, "0");
    datePicker.min = `${yyyy}-${mm}-${dd}`;

    function animateClick(btn){
      btn.classList.remove("pop");
      void btn.offsetWidth;
      btn.classList.add("pop");
    }

    function openCalendar(){
      // moderne Browser: showPicker(), fallback: focus+click
      datePicker.style.display = "block";
      if (typeof datePicker.showPicker === "function") {
        try {
          datePicker.showPicker();
        } catch (err) {
          datePicker.click();
        }
      } else {
        datePicker.focus();
        datePicker.click();
      }
    }

    function formatGerman(isoDate){
      // isoDate: YYYY-MM-DD
      const [y, m, d] = isoDate.split("-").map(Number);
      const dt = new Date(y, m - 1, d);
      return dt.toLocaleDateString("de-DE", { weekday:"long", year:"numeric", month:"long", day:"numeric" });
    }

    function onYesClick(btnLabel, btnEl){
      animateClick(btnEl);
      hint.textContent = `‚úÖ ${btnLabel} gedr√ºckt ‚Äî w√§hl jetzt ein Datum im Kalender‚Ä¶`;
      openCalendar();
    }

    document.getElementById("yes1").addEventListener("click", (e) => onYesClick("Ja (links)", e.currentTarget));
    document.getElementById("yes2").addEventListener("click", (e) => onYesClick("Ja (rechts)", e.currentTarget));

    // Wenn Datum ausgew√§hlt wurde
    datePicker.addEventListener("change", async () => {
      if (!datePicker.value) return;
      hint.textContent = `üìÖ Perfekt! Unser Date ist am ${formatGerman(datePicker.value)} ‚ù§Ô∏è`;
      
      // Discord Nachricht versenden
      try {
        const response = await fetch('http://localhost:3000/send-email', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ date: formatGerman(datePicker.value) })
        });
        const result = await response.json();
        if (result.success) {
          hint.textContent += ' ‚úÖ Discord notifiziert!';
        }
      } catch (error) {
        console.error('Fehler:', error);
      }
    });
    </script>




</html></body>  </script></body>
</html>
